<h2 mat-dialog-title>Generate New Response</h2>

<mat-dialog-content>
  <!-- AI Recommendation Banner -->
  <div class="ai-recommendation" *ngIf="hasAiRecommendation">
    <mat-icon>psychology</mat-icon>
    <div class="recommendation-content">
      <span class="recommendation-label">AI Suggestion:</span>
      <span class="recommendation-text">{{ data.strategyReasoning }}</span>
    </div>
  </div>

  <p class="dialog-description">
    Choose a strategy and tone for the new response.
  </p>

  <h3 class="section-title">Strategy</h3>
  <div class="strategy-options">
    <div
      class="strategy-card"
      *ngFor="let s of strategies"
      [class.selected]="strategy === s.value"
      (click)="strategy = s.value">
      <div class="strategy-header">
        <mat-icon>{{ s.icon }}</mat-icon>
        <span class="strategy-label">{{ s.label }}</span>
        <mat-icon class="check-icon" *ngIf="strategy === s.value">check_circle</mat-icon>
      </div>
      <p class="strategy-description">{{ s.description }}</p>
    </div>
  </div>

  <div class="utm-option" *ngIf="showUtmOption">
    <mat-checkbox [(ngModel)]="includeUtm">
      Include UTM tracking link
    </mat-checkbox>
    <p class="utm-hint">Adds tracking parameters to measure conversions from this response.</p>
  </div>

  <h3 class="section-title">Tone</h3>
  <mat-form-field appearance="outline" class="tone-select">
    <mat-label>Response Tone</mat-label>
    <mat-select [(value)]="tone">
      <mat-option *ngFor="let t of tones" [value]="t.value">
        {{ t.label }}
        <span class="tone-description"> - {{ t.description }}</span>
      </mat-option>
    </mat-select>
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-raised-button color="primary" (click)="onRegenerate()">
    <mat-icon>autorenew</mat-icon>
    Generate
  </button>
</mat-dialog-actions>
